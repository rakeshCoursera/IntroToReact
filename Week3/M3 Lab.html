<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <script src="https://unpkg.com/react@15/dist/react.min.js"></script>
  <script src="https://unpkg.com/react-dom@15/dist/react-dom.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.24.0/babel.js"></script>

</head>

<body>
  <div id="root"></div>
  <script type="text/babel">
    var ACTARRAY = ['Science Lab','Swimming','Cooking','Painting'];
    var TABLEHEADER = ['Remove', 'First Name', 'Last Name', 'Activity', 'Restrictions'];
    var RESTRICTIONSARRAY = ['Dietary Restrictions','Physical Disabilities','Medical Needs'];

    function InputList(props){
      var checkList=props.labels.map(function(val, index){
        var char = String.fromCharCode(97+index);
        return (<div><input type="checkbox" key={index} onClick={()=>props.handleClick(char)}/> {char + ") " + val} <br/></div>);
      });
      return(
        <div>
        {checkList}
        </div>
      );
    }

    class App extends React.Component {
      constructor(props){
        super(props);
        this.state = {
          fname:'',
          lname: '',
          actName:ACTARRAY[0],
          restrictions: '',
          items: [],
        };
      }

      handleFirstChange(event){
        this.setState({fname: event.target.value})
      }

      handleLastChange(event){
        this.setState({lname: event.target.value})
      }

      handleSelectChange(event){
        this.setState({actName: event.target.value})
      }

      handleClick(val){
        this.setState({restrictions: this.state.restrictions + val})
      }

      handleSubmitClick(){
        this.setState({fname:'',
          lname: '',
          actName:ACTARRAY[0],
          restrictions: ''
        });
        document.getElementById("registration-form").reset()
      }


      render(){
        console.log(this.state.fname, this.state.lname, this.state.actName, this.state.restrictions);
        var options = ACTARRAY.map(function(val, index){
          return (<option key={index}>{val}</option>)
        });

        return(
          <form id="registration-form">
            First Name <br/><input type="text" value={this.state.fname} onChange={this.handleFirstChange.bind(this)}/> <br/>
            First Name <br/><input type="text" value={this.state.lname} onChange={this.handleLastChange.bind(this)}/> <br/>
            Select Activity<br/>
            <select value={this.state.actName} onChange={this.handleSelectChange.bind(this)}>
              {options}
            </select><br/>
            <InputList labels={RESTRICTIONSARRAY} handleClick={this.handleClick.bind(this)}/>
            <button onClick={this.handleSubmitClick.bind(this)}>Submit</button>
          </form>
        );
      }
    }
    ReactDOM.render(
      <App/>,
    document.getElementById("root") )
  </script>
</body>

</html>